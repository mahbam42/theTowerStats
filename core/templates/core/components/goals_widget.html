<div class="card-shell goals-widget">
  <div class="grid-x grid-margin-x align-middle">
    <div class="cell auto">
      <p class="muted margin-0">Goals</p>
      <h4 class="margin-0">Upgrade targets</h4>
      <p class="muted margin-0">Top remaining costs for this dashboard.</p>
    </div>
    <div class="cell shrink">
      <a class="button secondary tiny margin-0" href="{% url 'core:goals_dashboard' %}?goal_type={{ goal_type }}">View all goals</a>
    </div>
  </div>

  {% if rows %}
    <table class="stack margin-top-1 margin-bottom-0">
      <thead>
        <tr>
          <th>Item</th>
          <th>Parameter</th>
          <th>Target</th>
          <th>Remaining</th>
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
          <tr>
            <td>{{ row.entity_name }}</td>
            <td>{{ row.parameter_name }}</td>
            <td>L{{ row.target_level }}</td>
            <td>
              {% if row.breakdown %}
                {{ row.breakdown.total_remaining }} {{ row.currency }}
              {% else %}
                <span class="muted">â€”</span>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="muted margin-top-1 margin-bottom-0">No goals set yet.</p>
  {% endif %}
</div>

