{% extends "core/base.html" %}

{% block title %}Cards â€¢ theTowerStats{% endblock %}

{% block content %}
  <h2>Cards</h2>

  <h3>Preset labels</h3>
  {% if presets %}
    <ul>
      {% for preset in presets %}
        <li>{{ preset.name }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="muted">No presets yet.</p>
  {% endif %}

  <h3>Card definitions</h3>
  {% if definitions %}
    <ul>
      {% for card in definitions %}
        <li>
          {{ card.name }}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="muted">No card definitions yet.</p>
  {% endif %}

  <h3>Player progress</h3>
  {% if player_cards %}
    <table>
      <thead>
        <tr>
          <th>Card</th>
          <th>Stars unlocked</th>
          <th>Updated</th>
        </tr>
      </thead>
      <tbody>
        {% for entry in player_cards %}
          <tr>
            <td>{{ entry.card_definition.name|default:entry.card_slug }}</td>
            <td>{{ entry.stars_unlocked }}</td>
            <td>{{ entry.updated_at }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="muted">No player card progress yet.</p>
  {% endif %}
{% endblock %}
