{% extends "core/base.html" %}

{% block title %}Search â€¢ theTowerStats{% endblock %}

{% block content %}
  <div class="grid-x grid-margin-x">
    <div class="cell">
      <div class="card-shell">
        <p class="muted margin-0">Search</p>
        <h2 class="margin-0">Results</h2>
        <form method="get" action="{% url 'core:search' %}" class="margin-top-1">
          <label class="margin-bottom-0">
            Query
            <input type="search" name="q" value="{{ query }}" placeholder="Search pages, presets, and snapshots" />
          </label>
          <div class="button-group margin-top-1">
            <button class="button" type="submit">Search</button>
            <a class="button secondary" href="{% url 'core:search' %}">Clear</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  {% if query %}
    <div class="grid-x grid-margin-x margin-top-1">
      <div class="cell">
        <div class="card-shell">
          <h4 class="margin-top-0">Matches</h4>
          {% if results %}
            <ul class="no-bullet margin-bottom-0">
              {% for item in results %}
                <li class="margin-bottom-1">
                  <a href="{{ item.url }}"{% if item.external %} target="_blank" rel="noopener noreferrer"{% endif %}><strong>{{ item.title }}</strong></a>
                  {% if item.subtitle %}
                    <div class="muted">{{ item.subtitle }}</div>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="muted margin-bottom-0">No results found.</p>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}
{% endblock %}
